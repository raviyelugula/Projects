require(foreign)
setwd("~/GitHub/Projects/IB-ICE")
require(foreign)
IB_Data = read.spss(file = 'IB ICE.sav')
IB_Data = read.spss(file = 'IB ICE.sav',to.data.frame = T)
?read.spss
install.packages('mlr')
require(mlr)
version
summarizeColumns(IB_Data)
summarizeColumns(IB_Data)
require(dplyr)
?select
names(IB_Data)
IB_Data_New = select(IB_Data,Slno,
Light1,Light2,Light3,
Emp1,Emp2,Emp3,
assort1,assort2,assort3,assort4,
Urge1,Urge2,Urge3_Changed,
IBT1_changed,IBT2,IBT3,IBT4,IBT5,
Layout1,Layout2,Layout3,
Timetaken,Moneyavailable,Moneyspent,Age,Gender,
IBProp,IBProp)
IB_Data_New = select(IB_Data,Slno,
Light1,Light2,Light3,
Emp1,Emp2,Emp3,
assort1,assort2,assort3,assort4,
Urge1,Urge2,Urge3_Changed,
IB1_changed,IBT2,IBT3,IBT4,IBT5,
Layout1,Layout2,Layout3,
Timetaken,Moneyavailable,Moneyspent,Age,Gender,
IBProp,IBProp)
IB_Data_New = IB_Data %>%
select(Slno,
Light1,Light2,Light3,
Emp1,Emp2,Emp3,
assort1,assort2,assort3,assort4,
Urge1,Urge2,Urge3_Changed,
IB1_changed,IBT2,IBT3,IBT4,IBT5,
Layout1,Layout2,Layout3,
Timetaken,Moneyavailable,Moneyspent,Age,Gender,
IBProp,IBProp) %>%
mutate(Light = mean(Light1,Light2,Light3),
Emp = mean(Emp1,Emp2,Emp3),
Assort = mean(assort1,assort2,assort3,assort4),
Urge = mean(Urge1,Urge2,Urge3_Changed),
IBT = mean(IB1_changed,IBT2,IBT3,IBT4,IBT5),
Layout = mean(Layout1,Layout2,Layout3))
IB_Data_New = IB_Data %>%
select(Slno,
Light1,Light2,Light3,
Emp1,Emp2,Emp3,
assort1,assort2,assort3,assort4,
Urge1,Urge2,Urge3_Changed,
IB1_changed,IBT2,IBT3,IBT4,IBT5,
Layout1,Layout2,Layout3,
Timetaken,Moneyavailable,Moneyspent,Age,Gender,
IBProp,IBProp) %>%
mutate(Light = mean(Light1,Light2,Light3,na.rm=T),
Emp = mean(Emp1,Emp2,Emp3,na.rm=T),
Assort = mean(assort1,assort2,assort3,assort4,na.rm=T),
Urge = mean(Urge1,Urge2,Urge3_Changed,na.rm=T),
IBT = mean(IB1_changed,IBT2,IBT3,IBT4,IBT5,na.rm=T),
Layout = mean(Layout1,Layout2,Layout3,na.rm=T))
IB_Data_New = IB_Data %>%
# select(Slno,
#        Light1,Light2,Light3,
#        Emp1,Emp2,Emp3,
#        assort1,assort2,assort3,assort4,
#        Urge1,Urge2,Urge3_Changed,
#        IB1_changed,IBT2,IBT3,IBT4,IBT5,
#        Layout1,Layout2,Layout3,
#        Timetaken,Moneyavailable,Moneyspent,Age,Gender,
#        IBProp,IBProp) %>%
mutate(Light = mean(Light1,Light2,Light3,na.rm=T),
Emp = mean(Emp1,Emp2,Emp3,na.rm=T),
Assort = mean(assort1,assort2,assort3,assort4,na.rm=T),
Urge = mean(Urge1,Urge2,Urge3_Changed,na.rm=T),
IBT = mean(IB1_changed,IBT2,IBT3,IBT4,IBT5,na.rm=T),
Layout = mean(Layout1,Layout2,Layout3,na.rm=T))
IB_Data_New = IB_Data %>%
# select(Slno,
#        Light1,Light2,Light3,
#        Emp1,Emp2,Emp3,
#        assort1,assort2,assort3,assort4,
#        Urge1,Urge2,Urge3_Changed,
#        IB1_changed,IBT2,IBT3,IBT4,IBT5,
#        Layout1,Layout2,Layout3,
#        Timetaken,Moneyavailable,Moneyspent,Age,Gender,
#        IBProp,IBProp) %>%
mutate(Light = mean(Light1,Light2,Light3,na.rm=T),
# Emp = mean(Emp1,Emp2,Emp3,na.rm=T),
# Assort = mean(assort1,assort2,assort3,assort4,na.rm=T),
# Urge = mean(Urge1,Urge2,Urge3_Changed,na.rm=T),
# IBT = mean(IB1_changed,IBT2,IBT3,IBT4,IBT5,na.rm=T),
Layout = mean(Layout1,Layout2,Layout3,na.rm=T))
IB_Data_New = IB_Data %>%
# select(Slno,
#        Light1,Light2,Light3,
#        Emp1,Emp2,Emp3,
#        assort1,assort2,assort3,assort4,
#        Urge1,Urge2,Urge3_Changed,
#        IB1_changed,IBT2,IBT3,IBT4,IBT5,
#        Layout1,Layout2,Layout3,
#        Timetaken,Moneyavailable,Moneyspent,Age,Gender,
#        IBProp,IBProp) %>%
mutate(Light = mean(Light1,Light2,Light3),
# Emp = mean(Emp1,Emp2,Emp3,na.rm=T),
# Assort = mean(assort1,assort2,assort3,assort4,na.rm=T),
# Urge = mean(Urge1,Urge2,Urge3_Changed,na.rm=T),
# IBT = mean(IB1_changed,IBT2,IBT3,IBT4,IBT5,na.rm=T),
Layout = mean(Layout1,Layout2,Layout3,na.rm=T))
IB_Data_New = IB_Data %>%
# select(Slno,
#        Light1,Light2,Light3,
#        Emp1,Emp2,Emp3,
#        assort1,assort2,assort3,assort4,
#        Urge1,Urge2,Urge3_Changed,
#        IB1_changed,IBT2,IBT3,IBT4,IBT5,
#        Layout1,Layout2,Layout3,
#        Timetaken,Moneyavailable,Moneyspent,Age,Gender,
#        IBProp,IBProp) %>%
mutate(Light = mean(Light1,Light2,Light3),
# Emp = mean(Emp1,Emp2,Emp3,na.rm=T),
# Assort = mean(assort1,assort2,assort3,assort4,na.rm=T),
# Urge = mean(Urge1,Urge2,Urge3_Changed,na.rm=T),
# IBT = mean(IB1_changed,IBT2,IBT3,IBT4,IBT5,na.rm=T),
Layout = mean(Layout1,Layout2,Layout3,na.rm=T))
IB_Data_New = IB_Data %>%
# select(Slno,
#        Light1,Light2,Light3,
#        Emp1,Emp2,Emp3,
#        assort1,assort2,assort3,assort4,
#        Urge1,Urge2,Urge3_Changed,
#        IB1_changed,IBT2,IBT3,IBT4,IBT5,
#        Layout1,Layout2,Layout3,
#        Timetaken,Moneyavailable,Moneyspent,Age,Gender,
#        IBProp,IBProp) %>%
mutate(Light = mean(Light1,Light2,Light3),
# Emp = mean(Emp1,Emp2,Emp3,na.rm=T),
# Assort = mean(assort1,assort2,assort3,assort4,na.rm=T),
# Urge = mean(Urge1,Urge2,Urge3_Changed,na.rm=T),
# IBT = mean(IB1_changed,IBT2,IBT3,IBT4,IBT5,na.rm=T),
Layout = mean(Layout1,Layout2,Layout3)
)
summarizeColumns(IB_Data)
summarizeColumns(IB_Data)
summarizeColumns(IB_Data)
IB_Data_New = IB_Data %>%
# select(Slno,
#        Light1,Light2,Light3,
#        Emp1,Emp2,Emp3,
#        assort1,assort2,assort3,assort4,
#        Urge1,Urge2,Urge3_Changed,
#        IB1_changed,IBT2,IBT3,IBT4,IBT5,
#        Layout1,Layout2,Layout3,
#        Timetaken,Moneyavailable,Moneyspent,Age,Gender,
#        IBProp,IBProp) %>%
mutate(Light = mean(Light1,Light2,Light3))
?mean
mean(IB_Data$Light1,IB_Data$Light2,IB_Data$Light3)
mean(IB_Data$Light1,IB_Data$Light2,IB_Data$Light3,na.rm = T)
IB_Data_New = IB_Data %>%
# select(Slno,
#        Light1,Light2,Light3,
#        Emp1,Emp2,Emp3,
#        assort1,assort2,assort3,assort4,
#        Urge1,Urge2,Urge3_Changed,
#        IB1_changed,IBT2,IBT3,IBT4,IBT5,
#        Layout1,Layout2,Layout3,
#        Timetaken,Moneyavailable,Moneyspent,Age,Gender,
#        IBProp,IBProp) %>%
mutate(Light = mean(c(Light1,Light2,Light3),na.rm=T),
Emp = mean(c(Emp1,Emp2,Emp3,na.rm=T)),
Assort = mean(c(assort1,assort2,assort3,assort4),na.rm=T),
Urge = mean(c(Urge1,Urge2,Urge3_Changed),na.rm=T),
IBT = mean(c(IB1_changed,IBT2,IBT3,IBT4,IBT5),na.rm=T),
Layout = mean(c(Layout1,Layout2,Layout3,na.rm=T)))
IB_Data_New = IB_Data %>%
select(Slno,
Light1,Light2,Light3,
Emp1,Emp2,Emp3,
assort1,assort2,assort3,assort4,
Urge1,Urge2,Urge3_Changed,
IB1_changed,IBT2,IBT3,IBT4,IBT5,
Layout1,Layout2,Layout3,
Timetaken,Moneyavailable,Moneyspent,Age,Gender,
IBProp,IBProp) %>%
mutate(Light = mean(c(Light1,Light2,Light3),na.rm=T),
Emp = mean(c(Emp1,Emp2,Emp3,na.rm=T)),
Assort = mean(c(assort1,assort2,assort3,assort4),na.rm=T),
Urge = mean(c(Urge1,Urge2,Urge3_Changed),na.rm=T),
IBT = mean(c(IB1_changed,IBT2,IBT3,IBT4,IBT5),na.rm=T),
Layout = mean(c(Layout1,Layout2,Layout3,na.rm=T)))
install.packages("pdftools")
library(pdftools)
download.file("http://eci.nic.in/eci_main/archiveofge2009/Stats/VOLII/VolII_ConstituencyDataSummary.pdf", "test.pdf", mode = "wb")
txt <- pdf_text("test.pdf")
theurl <- "http://myneta.info/ls2014/index.php?action=summary&subAction=candidates_analyzed&sort=candidate#summary"
webpage <- getURL(theurl)
library(RCurl)
library(XML)
theurl <- "http://myneta.info/ls2014/index.php?action=summary&subAction=candidates_analyzed&sort=candidate#summary"
webpage <- getURL(theurl)
webpage <- readLines(tc <- textConnection(webpage)); close(tc)
pagetree <- htmlTreeParse(webpage, error=function(...){})
body <- pagetree$children$html$children$body
divbodyContent <- body$children$div$children[[1]]$children$div$children[[4]]
tables <- divbodyContent$children[names(divbodyContent)=="table"]
tablehead <- xpathSApply(pagetree, "//*/table[@class='divTableWithFloatingHeader']/tr/th", xmlValue)
table <- xpathApply(xmlRoot(pagetree), "//table", xmlValue)
names(pagetree)
str(pagetree)
class(pagetree)
pagetree$children
pagetree$children[120]
pagetree$children[121]
pagetree$children[1]
length(pagetree$children)
dim(pagetree$children)
pagetree$children[1][1]
pagetree$children$html$body
pagetree$children$html$head
pagetree$children[[1]]$head
pagetree$children[[1]]
pagetree$children[[1]]$body
pagetree$children[[1]][1]
pagetree$children[[1]][90]
pagetree$children[[1]][9]
pagetree$children[[1]][2]
class(pagetree$children[[1]][2])
pagetree$children[[1]][2]$body$div
pagetree$children[[1]][2]$body$comment
pagetree$children[[1]][2]$body$p\
pagetree$children[[1]][2]$body$p
pagetree$children[[1]][2]$body
class(pagetree$children[[1]][2]$body)
pagetree$children[[1]][2]$body[1]
pagetree$children[[1]][2]$body[2]
pagetree$children[[1]][2]$body[3]
pagetree$children[[1]][2]$body[4]
pagetree$children[[1]][2]$body[5]
pagetree$children[[1]][2]$body[6]
pagetree$children[[1]][2]$body[7]
pagetree$children[[1]][2]$body[8]
pagetree$children[[1]][2]$body[6]$div$div
pagetree$children[[1]][2]$body[6]$div
class(pagetree$children[[1]][2]$body[6])
library(rvest)
all_table1<- theurl %>%
html%>%
html_table()
library(rvest)
webpages <- read_html(url)
webpages <- read_html(theurl)
webpages$node
webpages$node
webpages$node[1]
webpages$doc
rank_data_html <- html_nodes(webpage,'.divTableWithFloatingHeader')
webpages <- read_html('https://m.imdb.com/chart/top')
rank_data_html <- html_nodes(webpage,'.unbold')
pagetree$children[[1]][2]$body[8]
to.dataframe(rank_data_html <- html_nodes(webpage,'.unbold'))
class(pagetree$children[[1]][2]$body[8])
pagetree$children[[1]][2]$body[8]
pagetree$children[[1]][2]$body[8]$children
pagetree$children[[1]][2]$body[8][5]
divbodyContent <- pagetree$children[[1]][2]$body[8]
tables <- divbodyContent$children[names(divbodyContent)=="table"]
tables
divbodyContent$children
as.data.frame(pagetree$children[[1]][2]$body[8])
xmlToDataFrame(pagetree$children[[1]][2]$body[8])
xmlChildren(pagetree$children[[1]][2]$body[8])
class(pagetree$children[[1]][2]$body[8])
class(pagetree$children[[1]][2])
class(pagetree$children)
class(pagetree)
xmlToDataFrame(pagetree)
?xmlToDataFrame
xmlToDataFrame(pagetree$children[[1]][2]$body[8], colClasses = list("integer", NULL, "numeric"))
